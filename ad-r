#WARNING - RECURSIVE
#make sure only new lines become array
IFS=$'\n'
#for each DIR do something (not the current folder mindepth , exlcude hidden .folders)
for D in `find . -mindepth 1 -type d -not -path '*/\.*'`
do
	echo "doing $@ on $D"
	echo cd $D
	"$@"
done